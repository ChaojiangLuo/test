<html>
<head>
<title>UPNP Media Player</title>
<script src="jquery.js"></script>
<script src="xml2json.js"></script>
<script src="soapclient.js"></script>
<script src="upnp.js"></script>
<script>
  
function m_search(){
  var url = "http://172.23.176.2:9999/description.xml";
  var xhr = new XMLHttpRequest();
  xhr.open("POST", url, false);
  xhr.send();
  console.log(xhr.responseXML);
}

$(document).ready(function() {
  $('input:button').addClass("btnClass");
  // fillData();
  $('#btnGet').click(function() {
      fillData();
  });
  function fillData() {
    var url = "http://172.23.176.2:9999/upnp/control/cds";
    var params = new SOAPClientParameters();
    params.add("ObjectID", 0);
    params.add("BrowseFlag", "BrowseDirectChildren");
    params.add("Filter", "*");
    params.add("StartingIndex", 0);
    params.add("RequestedCount", 50);
    params.add("SortCriteria", "");

    var namespace = "urn:schemas-upnp-org:service:ContentDirectory:1";
    SOAPClient._sendSoapRequestInternal(url,namespace, "Browse", params, true, function(o, r) {
      console.log(r);
    }, null);

  };
});

</script>
</head>
<body>
<p>Hello, world! Note that this text is not selectable.</p>
<div><button onclick="window.close()">Close</button></div>
<p><button onclick="m_search();">Send something via UDP to localhost:1337</button></p>
<p><button id="btnGet">getData</button></p>
<div id="stdData"></div>
</body>
</html>
